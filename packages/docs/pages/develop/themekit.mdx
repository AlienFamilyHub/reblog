import { Tabs } from "nextra/components";

# ThemeKit

reblog提供了`ThemeKit(@reblog/themekit)`用以从后端获取数据。ThemeKit只提供数据，不约束实现，你可使用任意喜欢的框架配合ThemeKit开发主题。以下为ThemeKit API文档。

## 安装

使用包管理器：

<Tabs items={["pnpm", "yarn", "npm", "bun"]}>

<Tabs.Tab>

```bash
pnpm add @reblog/themekit
```

</Tabs.Tab>

<Tabs.Tab>

```bash
yarn add @reblog/themekit
```

</Tabs.Tab>

<Tabs.Tab>

```bash
npm install @reblog/themekit
```

</Tabs.Tab>

<Tabs.Tab>

```bash
bun add @reblog/themekit
```

</Tabs.Tab>

</Tabs>

## 初始化 `constructor`

```typescript
import ThemeKit from "@reblog/themekit";

const themekit = new ThemeKit({
  server: {
    url: "https://reblog.example.com",
  },
});
```

## 文章

### 获取文章列表 `getArticleList`

```typescript
const articles = await themekit.getArticleList({
  pageIndex: 1,
  pageSize: 10,
});
```

### 根据slug获取文章 `getArticle`

```typescript
const article = await themekit.getArticle("reblog-test-article");
```

## 站点

### 获取站点信息 `getSite`

```typescript
const site = await themekit.getSite();
```

## 友链

### 获取友情链接 `getFriendList`

```typescript
const friends = await themekit.getFriendList({
  pageIndex: 1,
  pageSize: 10,
});
```

### 发起友链申请

```typescript
themekit.addFriend({
  name: "test site",
  avatar: "https://reblog.example.com/avatar.jpg",
  url: "https://reblog.example.com",
  desc: "reblog test site",
});
```

## 类型声明

### 文章 Article

```typescript
export type Article = {
  // 文章id
  id: number;

  // 文章创建时间
  created_at: string;

  // 文章更新时间
  updated_at: string;

  // 文章slug
  slug: string;

  // 文章标题
  title: string;

  // 文章描述
  desc: string;

  // 文章内容
  content: string;
};

export type ArticleList = {
  // 文章总数
  count: number;

  // 文章列表
  articles: Article[];
};
```

### 站点 Site

```typescript
export type Site = {
  name: string;
  url: string;
  desc: string;
  icon?: string;
};
```

### 友链 Friend

```typescript
export type Friend = {
  name: string;
  avatar: string;
  url: string;
  desc: string;
};
```
